<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>ulid: ulid [![Build Status](https://travis-ci.org/suyash/ulid.svg?branch=master)](https://travis-ci.org/suyash/ulid)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ulid
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ulid [![Build Status](<a href="https://travis-ci.org/suyash/ulid.svg?branch=master">https://travis-ci.org/suyash/ulid.svg?branch=master</a>)](<a href="https://travis-ci.org/suyash/ulid">https://travis-ci.org/suyash/ulid</a>) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>C++ port of <a href="https://github.com/oklog/ulid">oklog/ulid</a> and <a href="https://github.com/alizain/ulid">alizain/ulid</a>.</p>
<p>There are 2 implementations, the first in <code><a class="el" href="ulid__uint128_8hh.html">ulid_uint128.hh</a></code> uses a <code>__uint128_t</code> to represent a ULID.</p>
<p>The second in <code><a class="el" href="ulid__struct_8hh.html">ulid_struct.hh</a></code> encapsulates a 16 byte array in a struct, and uses that to represent a ULID</p>
<p><code><a class="el" href="ulid_8hh.html">ulid.hh</a></code> essentially (tries to) see if <code>__uint128_t</code> exists, in which case it imports the definition in <code><a class="el" href="ulid__uint128_8hh.html">ulid_uint128.hh</a></code>, otherwise it imports the implementation in <code><a class="el" href="ulid__struct_8hh.html">ulid_struct.hh</a></code>.</p>
<p>The <code>__uint128_t</code> version seems to be faster, some benchmarks below and more extensive ones on travis.</p>
<ul>
<li><a href="#usage">Usage</a></li>
<li><a href="#api">API</a></li>
<li><a href="#benchmarks">Benchmarks</a></li>
</ul>
<h2>Usage</h2>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{c++}</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;#include &lt;ulid.hh&gt;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;...</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;ulid::ULID ulid = ulid::Create(1484581420, []() { return 4; });</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;std::string str = ulid::Marshal(ulid);</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;std::cout &lt;&lt; str &lt;&lt; &#39;\n&#39;; // 0001C7STHC0G2081040G208104</div></div><!-- fragment --><h2>API</h2>
<h3><a class="el" href="structulid_1_1ULID.html">ulid::ULID</a></h3>
<p>The wrapper type for a <code>__uint128_t</code> / 16 byte array representing a ULID.</p>
<h3>void <a class="el" href="namespaceulid.html#a77678b22b359b8c0cfb36da71e78a27e">ulid::EncodeTime(time_t, ULID&amp;)</a></h3>
<p>encodes passed time in first 6 bytes of a ULID.</p>
<h3>void <a class="el" href="namespaceulid.html#ae304e6b91679340ba1c2fb072f015063">ulid::EncodeTimeNow(ULID&amp;)</a></h3>
<p>encodes <code>std::time(nullptr)</code> as time.</p>
<h3>void <a class="el" href="namespaceulid.html#ac7ff2f3895e79b42993515e97c78b292">ulid::EncodeTimeSystemClockNow(ULID&amp;)</a></h3>
<p>encodes <code>std::chrono::system_clock::now()</code> by taking the timestamp in milliseconds.</p>
<h3>void <a class="el" href="namespaceulid.html#a2cf66ded47dbddfe33d74f01d6357e7c">ulid::EncodeEntropy(const std::function&lt;uint8_t()&gt;&amp;, ULID&amp;)</a></h3>
<p>sets the last 10 bytes as the values generated using the passed random byte generator.</p>
<h3>void <a class="el" href="namespaceulid.html#a51eac758799b6ddfa781d127bc5ab01c">ulid::EncodeEntropyRand(ULID&amp;)</a></h3>
<p>sets the entropy using <code>std::rand</code>.</p>
<h3>void <a class="el" href="namespaceulid.html#aca679c9f468f18a2495466b9bbe250f5">ulid::EncodeEntropyMt19937(std::mt19937&amp; generator, ULID&amp; ulid)</a></h3>
<p>sets the entropy by generating values from a <code>std::mt19937</code> generator, initializes a <code>std::uniform_int_distribution</code> on each invocation.</p>
<h3>void <a class="el" href="namespaceulid.html#a862be2e746f0642c3f35bfb3e7124f6f">ulid::Encode(time_t, const std::function&lt;uint8_t()&gt;&amp;, ULID&amp;)</a></h3>
<p>EncodeTime + EncodeEntropy</p>
<h3>void ulid::EncodeNowRand(time_t, const std::function&lt;uint8_t()&gt;&amp;, ULID&amp;)</h3>
<p>EncodeTimeNow + EncodeEntropyRand</p>
<h3><a class="el" href="structulid_1_1ULID.html">ulid::ULID</a> <a class="el" href="namespaceulid.html#aef888fd2d58004d0ac76e5bfbc6e0b3b">ulid::Create(time_t, const std::function&lt;uint8_t()&gt;&amp;)</a></h3>
<p>creates a fresh ULID using the passed timestamp and generator.</p>
<h3>void <a class="el" href="namespaceulid.html#a40e76e84bd46119d2a048729f9d24d39">ulid::CreateNowRand()</a></h3>
<p>Create:Encode::CreateNowRand:EncodeNowRand</p>
<h3>void <a class="el" href="namespaceulid.html#a52f5d6a4126a752364ef5274bfb0c9ec">ulid::MarshalTo(const ULID&amp;, char[26])</a></h3>
<p>Marshals the ulid into the passed character array.</p>
<h3>std::string <a class="el" href="namespaceulid.html#a7729a23cf2a0d7d24eac629a7945286d">ulid::Marshal(const ULID&amp;)</a></h3>
<p>Marshals and generates std::string.</p>
<h3>void <a class="el" href="namespaceulid.html#a57db1cd824f46b933327a3015263cc14">ulid::MarshalBinaryTo(const ULID&amp;, uint8_t[16])</a></h3>
<p>Marshals the ulid into the passed byte array.</p>
<h3>std::vector&lt;uint8_t&gt; <a class="el" href="namespaceulid.html#a8af312df49a09a95917e8b105f2ab2a9">ulid::MarshalBinary(const ULID&amp;)</a></h3>
<p>Marshals and generates std::vector&lt;uint8_t&gt;.</p>
<h3>void <a class="el" href="namespaceulid.html#a564449b4fd9af156aa22557717b0b84d">ulid::UnmarshalFrom(const char[26], ULID&amp;)</a></h3>
<p>Unmarshals the passed character array into the ulid.</p>
<h3>ULID <a class="el" href="namespaceulid.html#a8d55dbb7d647de4c58c8db74b2e55f71">ulid::Unmarshal(const std::string&amp;)</a></h3>
<p>Creates a new ULID by Unmarshaling the passed string.</p>
<h3>void ulid::UnmarshalBinaryFrom(const uint8_t[26], ULID&amp;)</h3>
<p>Unmarshals the passed byte array into the ulid.</p>
<h3>ULID <a class="el" href="namespaceulid.html#a36e905456aa583f584475e86ec2fc723">ulid::UnmarshalBinary(const std::vector&lt;uint8_t&gt;&amp;)</a></h3>
<p>Creates a new ULID by Unmarshaling the passed vector.</p>
<h3>time_t <a class="el" href="namespaceulid.html#a11e19fad3631172c0f2ecae26c522f4f">ulid::Time(const ULID&amp;)</a></h3>
<p>Extracts the timestamp used to create the ULID.</p>
<h2>Benchmarks</h2>
<p>From <a href="https://travis-ci.org/suyash/ulid/jobs/196587557">https://travis-ci.org/suyash/ulid/jobs/196587557</a></p>
<p><b>ulid_uint128</b></p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;./ulid_uint128_bench.out --benchmark_out_format=console</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;Run on (32 X 2800.27 MHz CPU s)</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;2017-01-30 13:53:30</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;Benchmark                         Time           CPU Iterations</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;---------------------------------------------------------------</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;EncodeTime                       20 ns         20 ns   33878597</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;EncodeTimeNow                    22 ns         22 ns   32218636</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;EncodeTimeSystemClockNow        153 ns        153 ns    4490317</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;EncodeEntropy                   198 ns        198 ns    3562142</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;EncodeEntropyRand               121 ns        121 ns    5780498</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;EncodeEntropyMt19937            525 ns        525 ns    1331004</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;Encode                          213 ns        213 ns    3290697</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;EncodeNowRand                   139 ns        139 ns    5059356</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;Create                          232 ns        232 ns    3028591</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;CreateNowRand                   141 ns        141 ns    4943666</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;MarshalTo                        39 ns         39 ns   18024722</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;Marshal                          93 ns         93 ns    7460186</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;MarshalBinaryTo                  19 ns         19 ns   37735347</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;MarshalBinary                   133 ns        133 ns    5242484</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;UnmarshalFrom                    68 ns         68 ns   10145291</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;Unmarshal                       131 ns        129 ns    5659895</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;UnmarshalBinaryFrom              64 ns         64 ns   10402550</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;UnmarshalBinary                 216 ns        216 ns    3233510</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;Time                             12 ns         12 ns   57538180</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;CompareULIDs                     10 ns         10 ns   69390812</div></div><!-- fragment --><p><b>ulid_struct</b></p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;./ulid_struct_bench.out --benchmark_out_format=console</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;Run on (32 X 2800.27 MHz CPU s)</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;2017-01-30 13:53:48</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;Benchmark                         Time           CPU Iterations</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;---------------------------------------------------------------</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;EncodeTime                       11 ns         11 ns   68024343</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;EncodeTimeNow                    14 ns         14 ns   53810497</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;EncodeTimeSystemClockNow        141 ns        141 ns    5011618</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;EncodeEntropy                   185 ns        185 ns    3756190</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;EncodeEntropyRand               212 ns        212 ns    3289057</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;EncodeEntropyMt19937            485 ns        485 ns    1442392</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;Encode                          197 ns        197 ns    3562101</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;EncodeNowRand                   220 ns        220 ns    3195564</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;Create                          204 ns        204 ns    3404090</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;CreateNowRand                   229 ns        229 ns    3057854</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;MarshalTo                        41 ns         41 ns   17229969</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;Marshal                          96 ns         96 ns    7278924</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;MarshalBinaryTo                  19 ns         19 ns   37625620</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;MarshalBinary                   134 ns        134 ns    5254147</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;UnmarshalFrom                    38 ns         38 ns   18270269</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;Unmarshal                        99 ns         99 ns    7048231</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;UnmarshalBinaryFrom              19 ns         19 ns   37479143</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;UnmarshalBinary                 175 ns        175 ns    4180657</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;Time                             18 ns         18 ns   39717910</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;CompareULIDs                     20 ns         20 ns   33980240</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
